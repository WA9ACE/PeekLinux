DEFINE += FF_BAT
DEFINE += TI_PS_FFS_PHB
DEFINE += SMS_PDU_SUPPORT

UNDEFINE += L1

VARIANT_INCLUDE=$(M23_VARIANT_INCLUDE)
INCLUDE += $(M23DIR)/csw-system/rtslib/v2_70
INCLUDE += $(M23DIR)/chipsetsw/riviera
INCLUDE += $(M23DIR)/chipsetsw/riviera/rv
INCLUDE += $(M23DIR)/chipsetsw/Services
INCLUDE += $(M23DIR)/csw-system/drv_core
INCLUDE += $(M23DIR)/csw-system/drv_core/abb
INCLUDE += $(M23DIR)/csw-system/drv_core/i2c
INCLUDE += $(M23DIR)/csw-system/drv_app
INCLUDE += $(M23DIR)/csw-system/drv_app/rtc
INCLUDE += $(M23DIR)/cdginc
INCLUDE += $(M23DIR)/gpf/inc
INCLUDE += $(M23DIR)/L1/layer1/include
INCLUDE += $(M23DIR)/g23m/condat/ms/src/ati_ext
INCLUDE += $(M23DIR)/g23m/condat/com/include
INCLUDE += $(M23DIR)/g23m/condat/com/inc
INCLUDE += $(M23DIR)/g23m-aci/aci_ext
INCLUDE += $(M23DIR)/g23m-aci/aci
INCLUDE += $(M23DIR)/g23m-aci/ksd
INCLUDE += $(M23DIR)/g23m-aci/aci_dti_mng
INCLUDE += $(M23DIR)/g23m-aci/bat
INCLUDE += $(M23DIR)/g23m-aci/l2p
INCLUDE += $(M23DIR)/g23m-fad/tcpip
INCLUDE += $(M23DIR)/csw-system/drv_core/timer
INCLUDE += $(M23DIR)/g23m/condat/ms/src/mfw

SRC  = cmh_cphs.c
SRC += aci_version.c
SRC += aci_bat_cphs.c
SRC += ati_cphs.c
SRC += cphs.c
SRC += cphs_aci.c
SRC += ati_src_psi.c
SRC += ati_src_psi_io.c
SRC += ati_sat.c
SRC += ati_src_sat.c
SRC += ati_pdu.c
SRC += ati_bas.c
SRC += ati_cc.c
SRC += ati_cmd.c
SRC += ati_csc.c
SRC += ati_err.c
SRC += ati_fd.c
SRC += ati_io.c
SRC += ati_mm.c
SRC += ati_phb.c
SRC += ati_prs.c
SRC += ati_ret.c
SRC += ati_sim.c
SRC += ati_sms.c
SRC += ati_ss.c
SRC += ati_gprs.c
SRC += ati_mmi.c
SRC += ati_em.c
SRC += ati_em_ret.c
SRC += ati_dti.c
SRC += aci_aci.c
SRC += aci_mem.c
SRC += aci_csf.c
SRC += aci_pei.c
SRC += aci_tim.c
SRC += aci_util.c
SRC += aci_lst.c
SRC += dti_cntrl_mng.c
SRC += db.c
SRC += phb_sim.c
SRC += phb_aci.c
SRC += aoc.c
SRC += aci_mfw.c
#SRC += aci_slock.c
SRC += aci_em.c
SRC += gaci_srcc.c
SRC += gaci.c
SRC += gaci_ret.c
SRC += aci_bat.c
SRC += aci_bat_bas.c
SRC += aci_bat_cb.c
SRC += aci_bat_cc.c
SRC += aci_bat_csc.c
SRC += aci_bat_dti.c
SRC += aci_bat_em.c
SRC += aci_bat_err.c
SRC += aci_bat_fd.c
SRC += aci_bat_gprs.c
SRC += aci_bat_lcs.c
SRC += aci_bat_mm.c
SRC += aci_bat_phb.c
SRC += aci_bat_sat.c
SRC += aci_bat_sim.c
SRC += aci_bat_sms.c
SRC += aci_bat_ss.c
SRC += aci_bat_ext.c
SRC += hl_audio_drv.c
SRC += plmn_decoder.c
SRC += ati_src_uart.c
SRC += ati_src_uart_io.c
SRC += cmh_psif.c
SRC += cmh_psir.c
SRC += cmh_sats.c
SRC += cmh_satr.c
SRC += cmh_satq.c
SRC += cmh_emq.c
SRC += cmh_emr.c
SRC += cmh_ccf.c
SRC += cmh_ccq.c
SRC += cmh_ccr.c
SRC += cmh_ccs.c
SRC += cmh_dmy.c
SRC += cmh_f.c
SRC += cmh_l2rf.c
SRC += cmh_l2rq.c
SRC += cmh_l2rr.c
SRC += cmh_l2rs.c
SRC += cmh_mmf.c
SRC += cmh_mmir.c
SRC += cmh_mmis.c
SRC += cmh_mmit.c
SRC += cmh_mmiq.c
SRC += cmh_mmq.c
SRC += cmh_mmr.c
SRC += cmh_mms.c
SRC += cmh_mmt.c
SRC += cmh_phbf.c
SRC += cmh_phbq.c
SRC += cmh_ssq.c
SRC += cmh_ssr.c
SRC += cmh_sss.c
SRC += cmh_phbs.c
SRC += cmh_phbt.c
SRC += cmh_phbr.c
SRC += cmh_raf.c
SRC += cmh_rar.c
SRC += cmh_ras.c
SRC += cmh_simf.c
SRC += cmh_simq.c
SRC += cmh_simr.c
SRC += cmh_sims.c
SRC += cmh_smsf.c
SRC += cmh_smsq.c
SRC += cmh_smsr.c
SRC += cmh_smss.c
SRC += cmh_ssf.c
SRC += cmh_t30f.c
SRC += cmh_t30r.c
SRC += cmh_t30s.c
SRC += cmh_t30q.c
SRC += cmh_tsts.c
SRC += cmh_uartf.c
SRC += cmh_uartr.c
SRC += cmh_uarts.c
SRC += cmh_ipar.c
SRC += cmh_ipas.c
SRC += cmh_pppr.c
SRC += cmh_pps.c
SRC += cmh_udpar.c
SRC += cmh_udpas.c
SRC += cmh_gmmf.c
SRC += cmh_gmmq.c
SRC += cmh_gmmr.c
SRC += cmh_gmms.c
SRC += cmh_gpppf.c
SRC += cmh_gpppr.c
SRC += cmh_gppps.c
SRC += cmh_snds.c
SRC += cmh_sndr.c
SRC += cmh_smf.c
SRC += cmh_smq.c
SRC += cmh_smr.c
SRC += cmh_sms.c
SRC += cmh_smt.c
SRC += cmh_dti.c
SRC += psa_satf.c
SRC += psa_satp.c
SRC += psa_sats.c
SRC += cmh_satf.c
SRC += psa_psip.c
SRC += psa_psis.c
SRC += psa_ccf.c
SRC += psa_ccp.c
SRC += psa_ccs.c
SRC += psa_f.c
SRC += psa_l2rf.c
SRC += psa_l2rp.c
SRC += psa_l2rs.c
SRC += psa_mmf.c
SRC += psa_mmif.c
SRC += psa_mmip.c
SRC += psa_mmis.c
SRC += psa_mmp.c
SRC += psa_raf.c
SRC += psa_rap.c
SRC += psa_ras.c
SRC += psa_simf.c
SRC += psa_simp.c
SRC += psa_sims.c
SRC += psa_smsf.c
SRC += psa_smsp.c
SRC += psa_smss.c
SRC += psa_ssf.c
SRC += psa_ssp.c
SRC += psa_sss.c
SRC += psa_t30f.c
SRC += psa_t30p.c
SRC += psa_t30s.c
SRC += psa_util.c
SRC += psa_uartp.c
SRC += psa_uarts.c
SRC += psa_tras.c
SRC += psa_trap.c
SRC += psa_mtst.c
SRC += psa_ipap.c
SRC += psa_ipas.c
SRC += psa_pppp.c
SRC += psa_ppps.c
SRC += psa_pppf_w.c
SRC += psa_udpap.c
SRC += psa_udpas.c
SRC += psa_tcpipf.c
SRC += psa_gmmf.c
SRC += psa_gmmp.c
SRC += psa_gmms.c
SRC += psa_gpppf.c
SRC += psa_gpppp.c
SRC += psa_gppps.c
SRC += psa_sndp.c
SRC += psa_snds.c
SRC += psa_smf.c
SRC += psa_smp.c
SRC += psa_sms.c
SRC += sap_dti.c
SRC += sap_ppp.c
SRC += sap_em.c
SRC += conc_sms.c 
SRC += line_edit.c
SRC += line_split.c
SRC += dcm_f.c
SRC += dcm_env.c
SRC += dcm_utils.c
SRC += dcm_state.c
SRC += dcm_handle_message.c
SRC += psa_dcms.c
SRC += psa_dcmp.c
SRC += cmh_tcpipr.c
SRC += cmh_tcpips.c
SRC += psa_tcpipp.c
SRC += psa_tcpips.c
SRC += psa_upmp.c
SRC += psa_upms.c
SRC += phb.c
#SRC += ../ksd/ksd.c
#SRC += ../ksd/ksd_utl.c

OBJ = $(addprefix $(CURDIR)/,$(patsubst %.c,%.o,$(patsubst %.cpp,%.o,$(SRC))))
DEPS = $(patsubst %.o,%.d,$(OBJ))

TARGET = $(CURDIR)/aci.a

all: $(TARGET)

$(TARGET): $(OBJ)
	$(AR) $(ARFLAGS) $@ $(OBJ)

clean:
	$(RM) $(OBJ)
	$(RM) $(TARGET)
	$(RM) $(DEPS)
	$(RM) $(patsubst %.o,%.pp,$(OBJ))
	$(RM) $(patsubst %.o,%.pp_,$(OBJ))

include $(BASEDIR)/Makefile.rules

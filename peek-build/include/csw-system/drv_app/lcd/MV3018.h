#ifndef MV3018_H
#define MV3018_H

#include "l1_types.h"
#include "sys_types.h"

// MV3018 Address
#define MV3018_ADD_0 (*(volatile UWORD16*)0x02000000)
#define MV3018_ADD_1 (*(volatile UWORD16*)0x02020000)
#define MV3018_ADD_2 (*(volatile UWORD16*)0x02040000)
#define MV3018_ADD_3 (*(volatile UWORD16*)0x02060000)

// MV3018 Bank 2 Register Definition
#define MV3018_REGISTER_RESET_CTL				((SYS_UWORD16)0x0000)
#define MV3018_REGISTER_OPERATION_CTL			((SYS_UWORD16)0x0001)
#define MV3018_REGISTER_INTERRUPT_MASK			((SYS_UWORD16)0x0002)
#define MV3018_REGISTER_INTERRUPT_STATUS		((SYS_UWORD16)0x0003)
#define MV3018_REGISTER_MEMORY_POINTER			((SYS_UWORD16)0x0008)
#define MV3018_REGISTER_MISC_CTL				((SYS_UWORD16)0x001D)
#define MV3018_REGISTER_PLL_CTL					((SYS_UWORD16)0x001E)
#define MV3018_REGISTER_DEVICE_ID				((SYS_UWORD16)0x001F)

#define MV3018_REGISTER_TDSCALER_INSTRUCTION	((SYS_UWORD16)0x00A0)
#define MV3018_REGISTER_TDSCALER_SRC1_CTL		((SYS_UWORD16)0x00A6)
#define MV3018_REGISTER_TDSCALER_SRC1_WIDTH		((SYS_UWORD16)0x00A7)
#define MV3018_REGISTER_TDSCALER_SRC1_SCALE		((SYS_UWORD16)0x00A8)
#define MV3018_REGISTER_TDSCALER_SRC1_START_ADD	((SYS_UWORD16)0x00A9)
#define MV3018_REGISTER_TDSCALER_SRC1_ADD_UOFF	((SYS_UWORD16)0x00AA)
#define MV3018_REGISTER_TDSCALER_SRC1_ADD_VOFF	((SYS_UWORD16)0x00AB)
#define MV3018_REGISTER_TDSCALER_SRC1_END_ADD	((SYS_UWORD16)0x00AC)

#define MV3018_REGISTER_TDSCALER_DST_CTL		((SYS_UWORD16)0x00A6)
#define MV3018_REGISTER_TDSCALER_DST_SIZE		((SYS_UWORD16)0x00A6)
#define MV3018_REGISTER_TDSCALER_DST_START_ADDR	((SYS_UWORD16)0x00A6)


#define MV3018_OPERATION_BYPASS_EN				((SYS_UWORD16)0x0)
#define MV3018_OPERATION_BITBLT2LCD_EN			((SYS_UWORD16)0x1<<11)
#define MV3018_OPERATION_BITBLT2SRAM_EN			((SYS_UWORD16)0x1<<9)


#define MV3018_INTERRUPT_BITBLT2LCD_END			(0x1<<11)

// Change to corresponding bank
#define MV3018_CHANGE_BANK(bank) \
	MV3018_ADD_3 = bank


#define MV3018_SET_RS MV3018_ADD_0=1
#define MV3018_CLEAR_RS MV3018_ADD_0=0

#define MV3018_WRITE_LCD_COMMAND(cmd) \
	MV3018_CLEAR_RS; \
	MV3018_ADD_1=cmd;
#define MV3018_WRITE_LCD_DATA(data) \
	MV3018_SET_RS; \
	MV3018_ADD_1=data;

#define MV3018_WRITE_LCD_CMDDATA(cmd, data) \
	MV3018_WRITE_LCD_COMMAND(cmd); \
	MV3018_WRITE_LCD_DATA(data);



void MV3018_Power_Initialize(void);
void MV3018_Reset(void);
void MV3018_Read_Status(void);
void MV3018_WriteDisplayData(SYS_UWORD16* buffer, SYS_UWORD16 length);
void MV3018_SetBitBlt();
void MV3018_BitBlt_Start();


#endif /* MV_3018 */
